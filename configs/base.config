# 基础架构（MT7621/Timecloud 必选）
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_thunder_timecloud=y

# 文件系统（适配16M闪存）
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_ROOTFS_PARTSIZE=14  # 根分区14M，预留空间
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256k

# 内核精简（减少体积）
CONFIG_KERNEL_DEBUG=n
CONFIG_KERNEL_KALLSYMS=n  # 关闭内核符号表
CONFIG_KERNEL_BUILD_USER="Timecloud"

# ========== 核心调整1：关闭所有防火墙相关功能 ==========
CONFIG_PACKAGE_fw3=n                # 关闭fw3防火墙（21.02.7默认防火墙）
CONFIG_PACKAGE_iptables=n           # 关闭iptables
CONFIG_PACKAGE_ip6tables=n          # 关闭ipv6防火墙
CONFIG_PACKAGE_nftables=n           # 关闭nftables
CONFIG_PACKAGE_luci-app-firewall=n  # 关闭防火墙LuCI界面
CONFIG_PACKAGE_xtables-addons=n     # 关闭iptables扩展
CONFIG_PACKAGE_ipset=n              # 关闭ipset（防火墙依赖）

# ========== 核心调整2：开启IPv6全功能 ==========
CONFIG_PACKAGE_odhcp6c=y            # IPv6 DHCP客户端
CONFIG_PACKAGE_odhcpd-ipv6only=n    # IPv6 DHCP服务端
CONFIG_PACKAGE_ipv6helper=y         # IPv6基础工具集
CONFIG_PACKAGE_dnsmasq_full=y       # 全功能dnsmasq（支持IPv6解析）
CONFIG_PACKAGE_iputils-ping6=y      # IPv6 ping工具
CONFIG_PACKAGE_6in4=n               # IPv6隧道（可选，按需保留）
CONFIG_PACKAGE_6rd=n                # IPv6过渡技术（可选）
CONFIG_PACKAGE_map=y                # IPv6映射（可选）

# 基础系统（仅保留必要组件）
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dropbear=y           # SSH登录（保留）
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE/uci=y
CONFIG_PACKAGE/uclient-fetch=y

# 核心功能：Transmission（下载）
CONFIG_PACKAGE_transmission=y
CONFIG_PACKAGE_transmission-daemon=y
CONFIG_PACKAGE_transmission-web=y
CONFIG_PACKAGE_luci-app-transmission=y
CONFIG_PACKAGE_luci-i18n-transmission-zh-cn=y

# 核心功能：Samba4（文件共享，支持IPv6）
CONFIG_PACKAGE_samba4-server=y
CONFIG_PACKAGE_samba4-libs=y
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_luci-i18n-samba4-zh-cn=y
CONFIG_SAMBA4_VFS=y                 # Samba IPv6支持
CONFIG_SAMBA4_IPV6=y                # 强制开启Samba IPv6

# LuCI界面（仅中文，精简）
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_LUCI_LANG_zh-cn=y
CONFIG_LUCI_LANG_en=n
CONFIG_PACKAGE_luci-proto-ipv6=y     # LuCI IPv6协议支持

# 存储工具（支持USB/硬盘）
CONFIG_PACKAGE_usbutils=y
CONFIG_PACKAGE/block-mount=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_kmod-usb-storage=y

# 网络基础（无防火墙版）
CONFIG_PACKAGE_dnsmasq=n            # 关闭精简版dnsmasq，启用full版
CONFIG_PACKAGE_dnsmasq_full=y       # 全功能dnsmasq（含IPv6）
CONFIG_PACKAGE_arping=y             # 网络检测工具（可选）
CONFIG_PACKAGE_wget=y               # 网络下载工具（可选）
